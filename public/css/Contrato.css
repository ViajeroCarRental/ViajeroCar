/* ==========================================================
   üé® CONTRATO.CSS ‚Äî FULL LIMPIO + TODOS LOS PASOS
   ‚úÖ Sin duplicados que se pisan
   ‚úÖ Paso 1 intacto
   ‚úÖ Modales: Veh√≠culos / Upgrade / Protecciones / Pago (Paso 6)
   ‚úÖ Resumen del contrato m√°s PRO
========================================================== */

:root{
  --brand:#FF1E2D; --brand-2:#D6121F;
  --ink:#101828; --muted:#667085;
  --stroke:#EAECF0; --bg:#F3F5F9; --paper:#fff; --ok:#027A48;

  --blue:#0052CC; --blue-2:#1d4ed8;
  --yellow:#f59e0b; --yellow-2:#fde68a;
  --orange:#f97316; --orange-2:#fdba74;
  --green2:#16a34a; --green2-2:#86efac;
  --red:#dc2626; --red-2:#fecaca;

  --radius-lg:18px;
  --radius-md:14px;
  --shadow-xs:0 1px 3px rgba(16,24,40,.06);
  --shadow-sm:0 4px 10px rgba(16,24,40,.08);
  --shadow-md:0 12px 32px rgba(16,24,40,.10);
}

/* =========================
   üîπ RESET GLOBAL
========================= */
*{ box-sizing:border-box; }
html,body{
  margin:0;
  background:var(--bg);
  color:var(--ink);
  font-family:"Cabin", system-ui, -apple-system, Segoe UI, Roboto, Arial;
}

/* ==========================
   üìÑ LAYOUT GENERAL
========================== */
.main{ padding:22px; }

.h1{
  margin:0 0 14px;
  font-size:24px;
  font-weight:1000;
  display:flex;
  gap:12px;
  align-items:center;
  flex-wrap:wrap;
}

.grid{
  display:grid;
  grid-template-columns:1.2fr .8fr;
  gap:20px;
  align-items:start;
}
@media(max-width:1100px){
  .grid{ grid-template-columns:1fr; }
}

/* ==========================
   üì¶ SECCIONES / TARJETAS BASE
========================== */
.section,.card{
  background:var(--paper);
  border:1.5px solid var(--stroke);
  border-radius:var(--radius-lg);
  overflow:hidden;
}

.section .head,.card .head{
  padding:14px 16px;
  border-bottom:1px solid var(--stroke);
  font-weight:1000;
  background:linear-gradient(180deg,#fff,#fbfcff);
}

.section .cnt,.card .cnt{ padding:16px; }

/* ==========================
   üîò BOTONES BASE
========================== */
.btn{
  border:none;
  border-radius:12px;
  padding:14px 16px;
  font-weight:900;
  cursor:pointer;
  transition:.2s ease;
}
.btn.primary{ background:var(--brand); color:#fff; }
.btn.primary:hover{ background:var(--brand-2); }
.btn.gray{ background:#F8FAFC; border:1px solid var(--stroke); color:var(--ink); }
.btn.gray:hover{ background:#EEF2F6; }
.btn.ghost{ background:#fff; border:1px solid var(--stroke); color:var(--ink); }
.btn.full{ width:100%; }

.acciones{
  display:flex;
  gap:12px;
  justify-content:flex-end;
  align-items:center;
  flex-wrap:wrap;
}

/* ==========================
   üí∞ KV / TOTALS
========================== */
.kv{
  display:grid;
  grid-template-columns:1fr auto;
  gap:10px;
  padding:10px 0;
  border-bottom:1px dashed #EEF2F6;
}
.kv:last-child{ border:none; }

.totalBox{
  margin-top:14px;
  padding-top:14px;
  border-top:1px dashed #EEF2F6;
}
.total{
  font-size:26px;
  font-weight:1000;
  color:var(--brand);
  letter-spacing:.2px;
}

.badge{
  display:inline-flex;
  align-items:center;
  gap:6px;
  padding:6px 10px;
  border-radius:999px;
  font-size:12px;
  border:1px solid #E9EAEE;
  background:#F9FAFB;
}

/* ==========================
   üìå RESUMEN DEL CONTRATO (ASIDE DERECHO) M√ÅS PRO
========================== */
.sticky{ position:sticky; top:20px; align-self:start; }

/* tarjeta resumen con look premium */
.sticky.card{
  border:1.5px solid #E6EAF0;
  box-shadow:var(--shadow-md);
}

/* bloque interno "mini" */
.summary-block{
  background:linear-gradient(180deg,#ffffff,#fbfbff);
  border:1px solid #EEF2F6;
  border-radius:16px;
  padding:12px;
  box-shadow:0 10px 22px rgba(16,24,40,.06);
}

/* imagen */
.card img{
  max-width:100%;
  border-radius:14px;
  display:block;
  margin:10px auto 8px;
  border:1px solid #EEF2F6;
  box-shadow:0 12px 28px rgba(16,24,40,.10);
}

/* texto */
.card p{
  margin:6px 0;
  color:#475467;
  font-size:14px;
  text-align:center;
}

/* mini ficha veh√≠culo */
.vehiculo-img{
  width:100%;
  max-width:240px;
  border-radius:14px;
  margin:10px auto 8px;
  display:block;
}
.vehiculo-nombre{
  font-size:1.08rem;
  font-weight:1000;
  margin:6px 0 0;
  text-align:center;
}
.vehiculo-mini{
  color:#6B7280;
  font-size:.88rem;
  margin:2px 0 0;
  text-align:center;
}

/* bot√≥n "Ver detalles" RESTAURADO + mejorado */
.btn-resumen{
  margin-top:14px;
  width:100%;
  padding:12px 14px;
  border-radius:14px;
  border:1px solid #E5E7EB;
  background:linear-gradient(180deg,#ffffff,#F7F8FB);
  color:#0f172a;
  font-size:.95rem;
  font-weight:1000;
  cursor:pointer;
  transition:.2s ease;
  box-shadow:0 8px 18px rgba(16,24,40,.08);
  display:flex;
  align-items:center;
  justify-content:center;
  gap:8px;
}
.btn-resumen:hover{
  transform:translateY(-1px);
  box-shadow:0 12px 24px rgba(16,24,40,.12);
  border-color:#D6DAE1;
}
.btn-resumen:active{
  transform:translateY(0);
  box-shadow:0 6px 16px rgba(16,24,40,.10);
}

/* separadores bonitos en resumen */
.summary-lines .kv{
  padding:10px 0;
}
.summary-lines .kv strong{
  color:#0f172a;
}
.summary-lines .kv span{
  color:#334155;
  font-weight:900;
}

/* total grande del resumen */
.summary-total{
  margin-top:14px;
  padding:14px 12px;
  border-radius:16px;
  background:radial-gradient(circle at 20% 0%, rgba(255,30,45,.18), transparent 55%),
             radial-gradient(circle at 90% 50%, rgba(29,78,216,.10), transparent 55%),
             linear-gradient(180deg,#ffffff,#fbfbff);
  border:1px solid #EEF2F6;
  box-shadow:0 12px 28px rgba(16,24,40,.08);
}
.summary-total .lbl{
  font-size:12px;
  color:#667085;
  font-weight:900;
  text-transform:uppercase;
  letter-spacing:.8px;
}
.summary-total .val{
  margin-top:6px;
  font-size:30px;
  font-weight:1100;
  color:var(--brand);
}

/* ==========================
   üß≠ PASOS
========================== */
.steps{ position:relative; min-height:500px; }

.step{
  background:#fff;
  border:1.5px solid var(--stroke);
  border-radius:var(--radius-lg);
  padding:18px;
  box-shadow:0 4px 14px rgba(16,24,40,.04);
  display:none;
  opacity:0;
  visibility:hidden;
  transform:translateY(10px);
  transition:opacity .25s ease, transform .25s ease, visibility .25s ease;
}

.step.active{
  display:block !important;
  opacity:1 !important;
  visibility:visible !important;
  transform:translateY(0);
  z-index:5;
  animation:fadeIn .35s ease-in-out;
}
@keyframes fadeIn{
  from{ opacity:0; transform:translateY(8px); }
  to{ opacity:1; transform:translateY(0); }
}

.step header{
  display:flex;
  align-items:center;
  gap:12px;
  margin-bottom:10px;
}
.step header .badge{
  background:var(--brand);
  color:#fff;
  font-weight:1000;
  font-size:14px;
  padding:6px 10px;
  border-radius:999px;
  box-shadow:0 10px 18px rgba(255,30,45,.18);
}
.step h3{ margin:0; font-size:18px; font-weight:1000; }
.step .body{ display:flex; flex-direction:column; gap:14px; }

/* ==========================
   üìú NOTAS / TEXTO
========================== */
.note{
  display:flex;
  gap:12px;
  align-items:flex-start;
  background:#FAFFFB;
  border:1px solid #CFF7E3;
  color:#035E38;
  padding:12px 14px;
  border-radius:14px;
  font-size:13px;
  margin:10px 0;
}
.note .ic{ font-size:18px; }

.small{ color:var(--muted); font-size:13px; }
.disabled{ opacity:.5; pointer-events:none; }

/* ==========================
   ‚úÖ SWITCH √öNICO (JS usa .on)
========================== */
.switch{
  --on:#22c55e;
  position:relative;
  width:54px;
  height:30px;
  border-radius:999px;
  background:#E5E7EB;
  cursor:pointer;
  transition:.18s;
  box-shadow:inset 0 0 0 1px #e5e7eb, 0 3px 8px rgba(2,8,23,.08);
}
.switch::after{
  content:"";
  position:absolute;
  left:4px;
  top:4px;
  width:22px;
  height:22px;
  border-radius:50%;
  background:#fff;
  transition:.2s;
  box-shadow:0 2px 6px rgba(2,8,23,.18);
}
.switch.on{
  background:linear-gradient(90deg,var(--on),#16a34a);
}
.switch.on::after{ left:28px; }

/* ==========================================================
   üé® PASO 1 (NO TOCAR)
========================================================== */
.contrato-resumen{ display:flex; flex-direction:column; gap:22px; }

.resumen-header .row{
  display:flex;
  justify-content:space-between;
  flex-wrap:wrap;
  padding:10px 0;
}
.resumen-header h4{
  font-size:14px;
  color:var(--muted);
  margin:0;
}
.resumen-header p{
  font-size:16px;
  font-weight:1000;
  color:var(--ink);
  margin:4px 0 0;
}

.resumen-entrega{
  display:flex;
  gap:18px;
  justify-content:space-around;
  flex-wrap:wrap;
}
.resumen-entrega .bloque{
  flex:1 1 45%;
  background:linear-gradient(180deg,#ffffff,#fbfbff);
  border:2px solid var(--stroke);
  border-radius:18px;
  text-align:center;
  padding:14px;
  box-shadow:0 10px 22px rgba(16,24,40,.07);
  position:relative;
  overflow:hidden;
}
.resumen-entrega .bloque::before{
  content:"";
  position:absolute;
  inset:-20px;
  background:
    radial-gradient(circle at 25% 10%, rgba(255,30,45,.12), transparent 55%),
    radial-gradient(circle at 90% 60%, rgba(29,78,216,.10), transparent 55%);
  pointer-events:none;
}
.bloque .titulo{
  background:var(--brand);
  color:#fff;
  font-weight:1000;
  padding:8px 0;
  border-radius:12px;
  margin-bottom:8px;
  box-shadow:0 10px 18px rgba(255,30,45,.18);
}
.bloque .lugar{ color:var(--muted); font-size:13px; margin:4px 0 10px; }
.bloque .fecha{ display:flex; justify-content:center; align-items:baseline; gap:6px; font-weight:1000; }
.bloque .fecha .dia{ font-size:38px; color:var(--brand); }
.bloque .fecha .mes{
  font-size:16px;
  background:#FFE2E5;
  color:var(--brand);
  border-radius:12px;
  padding:2px 10px;
  font-weight:1000;
}
.bloque .fecha .anio{ font-size:12px; color:var(--muted); }
.bloque .hora{ margin-top:8px; font-weight:1100; color:var(--ink); }

.resumen-totales .kv{
  display:flex;
  justify-content:space-between;
  padding:10px 0;
  border-bottom:1px dashed #eee;
}
.resumen-totales .kv.total{
  border-top:2px solid #EAEAEA;
  margin-top:10px;
  padding-top:12px;
}
.resumen-totales .total{
  color:var(--brand);
  font-size:24px;
  font-weight:1100;
}

/* ==========================================================
   üß© PASO 2 ‚Äî ADICIONALES / SERVICIOS
========================================================== */
.add-grid{
  display:grid;
  grid-template-columns:repeat(4,1fr);
  gap:16px;
  margin-top:10px;
}
@media(max-width:1200px){ .add-grid{ grid-template-columns:repeat(3,1fr);} }
@media(max-width:900px){ .add-grid{ grid-template-columns:repeat(2,1fr);} }
@media(max-width:560px){ .add-grid{ grid-template-columns:1fr;} }

.add{
  background:#fff;
  border:1px solid #EAECEF;
  border-radius:14px;
  box-shadow:0 2px 12px rgba(16,24,40,.04);
  overflow:hidden;
}
.add .tag{
  background:var(--brand);
  color:#fff;
  display:inline-block;
  padding:8px 12px;
  border-radius:10px;
  margin:12px 12px 0;
  font-weight:1000;
}
.add .body{ padding:12px 16px 16px; text-align:center; }
.add .icon{ font-size:36px; margin:6px 0 8px; }
.add .desc{ color:var(--muted); font-size:13px; min-height:40px; }
.add .price{ font-weight:1000; margin:8px 0 12px; }

#serviciosGrid{
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(240px, 1fr));
  gap:20px;
  margin-top:18px;
}
.card-servicio{
  background:#fff;
  border-radius:18px;
  border:1.5px solid var(--stroke);
  box-shadow:0 4px 12px rgba(16,24,40,.04);
  padding:18px 16px 22px;
  text-align:center;
  transition:all .2s ease;
}
.card-servicio:hover{
  transform:translateY(-4px);
  box-shadow:0 8px 20px rgba(16,24,40,.08);
}
.card-servicio h4{
  background:var(--brand);
  color:#fff;
  padding:6px 10px;
  border-radius:10px;
  display:inline-block;
  font-size:14px;
  font-weight:1000;
  margin-bottom:10px;
}
.card-servicio p{
  color:var(--muted);
  font-size:13px;
  margin:6px 0 12px;
  min-height:40px;
}
.card-servicio .precio{
  font-size:16px;
  font-weight:1000;
  color:var(--ink);
  margin-bottom:14px;
}
.card-servicio .contador{
  display:flex;
  justify-content:center;
  align-items:center;
  gap:14px;
}
.card-servicio .contador button{
  background:var(--brand);
  color:#fff;
  border:none;
  border-radius:50%;
  width:34px;
  height:34px;
  font-size:20px;
  line-height:1;
  cursor:pointer;
  transition:background .2s ease;
}
.card-servicio .contador button:hover{ background:var(--brand-2); }
.card-servicio .contador .cantidad{
  font-weight:1000;
  font-size:18px;
  min-width:20px;
}

/* ==========================================================
   üõ°Ô∏è PASO 3 ‚Äî PROTECCIONES (cards)
========================================================== */
.cards{
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(260px, 1fr));
  gap:18px;
  margin-top:10px;
}

.card.seguro-item{
  border:2px solid #E5E7EB;
  border-radius:16px;
  padding:18px 16px 22px;
  background:#fff;
  box-shadow:0 4px 12px rgba(16,24,40,.04);
  transition:all .25s ease;
  position:relative;
  text-align:center;
  cursor:pointer;
}
.card.seguro-item:hover{
  transform:translateY(-4px);
  border-color:#16A34A;
  background:#F0FDF4;
  box-shadow:0 8px 20px rgba(16,24,40,.08);
}
.card.seguro-item h4{
  font-size:16px;
  font-weight:1000;
  color:#064E3B;
  margin:0 0 6px;
}
.card.seguro-item p{
  color:#475467;
  font-size:13px;
  margin:8px 0 12px;
  min-height:36px;
}
.card.seguro-item .precio{
  font-weight:1000;
  font-size:15px;
  margin:10px 0;
  color:#111827;
}
.card.seguro-item .switch{
  margin:10px auto 6px;
  display:block;
}
.card.seguro-item.active{
  border-color:#16A34A;
  background:#ECFDF5;
  box-shadow:0 0 0 2px rgba(22,163,74,.12);
}

/* ==========================================================
   üí∞ PASO 4 ‚Äî CARGOS
========================================================== */
#cargosGrid{
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(260px, 1fr));
  gap:20px;
  margin-top:14px;
}
.card.cargo-item{
  background:#fff;
  border:1.5px solid var(--stroke);
  border-radius:18px;
  box-shadow:0 4px 12px rgba(16,24,40,.05);
  padding:18px 16px 20px;
  transition:all .25s ease;
  position:relative;
}
.card.cargo-item:hover{
  transform:translateY(-4px);
  box-shadow:0 8px 18px rgba(16,24,40,.08);
}
.card.cargo-item .head{
  display:flex;
  align-items:center;
  justify-content:space-between;
  margin-bottom:10px;
  border-bottom:none;
  padding:0;
  background:transparent;
}
.card.cargo-item .hTitle{
  display:flex;
  align-items:center;
  gap:8px;
  font-weight:1000;
  color:var(--ink);
}
.card.cargo-item .hIcon{ font-size:20px; }
.card.cargo-item .body{
  font-size:13px;
  color:#475467;
  text-align:center;
}
.card.cargo-item .precio{
  font-weight:1000;
  font-size:16px;
  color:#111827;
  margin-top:10px;
}
.card.cargo-item.active{
  border-color:var(--green2);
  background:#ECFDF5;
  box-shadow:0 0 0 3px rgba(22,163,74,.15);
}

/* ==========================================================
   üßæ PASO 5 ‚Äî DOCUMENTACI√ìN
========================================================== */
.step[data-step="5"] .body{
  display:grid;
  grid-template-columns:2fr 1fr;
  gap:22px;
  align-items:start;
}
@media(max-width:1100px){
  .step[data-step="5"] .body{ grid-template-columns:1fr; }
}

.step[data-step="5"] .section{
  border-radius:18px;
  border:1.5px solid var(--stroke);
  background:#fff;
  box-shadow:0 4px 10px rgba(16,24,40,.04);
  margin-bottom:18px;
}
.step[data-step="5"] .section .head{
  background:#FAFAFA;
  border-bottom:1px solid var(--stroke);
  padding:14px 16px;
  font-weight:1000;
  font-size:16px;
}
.step[data-step="5"] .section .cnt{ padding:16px; }

.step[data-step="5"] .form-grid{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:16px 22px;
}
@media(max-width:900px){
  .step[data-step="5"] .form-grid{ grid-template-columns:1fr; }
}

#tituloPersona{ font-size:17px; font-weight:1000; color:#1f2937; }
.step[data-step="5"] label{ font-size:14px; color:#374151; font-weight:700; }

.step[data-step="5"] input,
.step[data-step="5"] select{
  width:100%;
  padding:10px 12px;
  border-radius:10px;
  border:1px solid #D1D5DB;
  background:#fff;
  font-size:14px;
  transition:.2s ease;
}
.step[data-step="5"] input:focus,
.step[data-step="5"] select:focus{
  border-color:var(--brand);
  box-shadow:0 0 0 3px rgba(255,30,45,.18);
  outline:none;
}

.step[data-step="5"] .uploader{
  position:relative;
  border:2px dashed #E5E7EB;
  border-radius:16px;
  min-height:160px;
  display:flex;
  align-items:center;
  justify-content:center;
  background:linear-gradient(180deg,#FAFBFC,#F9FAFB);
  text-align:center;
  padding:16px;
  transition:background .15s, border-color .15s;
}
.step[data-step="5"] .uploader:hover{
  background:#FFF6F7;
  border-color:#FFD3D6;
}
.step[data-step="5"] .uploader input[type=file]{
  position:absolute;
  inset:0;
  opacity:0;
  cursor:pointer;
}
.step[data-step="5"] .uploader .msg{
  color:#6b7280;
  font-size:13px;
  font-weight:500;
}
.step[data-step="5"] .preview{
  display:flex;
  gap:12px;
  flex-wrap:wrap;
  margin-top:10px;
}
#alertaLicencia,#confirmacionLicencia{ margin-top:12px; }

.thumb{
  border:1px solid #E5E7EB;
  border-radius:14px;
  overflow:hidden;
  width:200px;
  height:130px;
  position:relative;
  background:#fff;
  box-shadow:0 6px 18px rgba(16,24,40,.06);
  transition:transform .2s ease;
}
.thumb:hover{ transform:scale(1.02); }
.thumb img{ width:100%; height:100%; object-fit:cover; }
.thumb .rm{
  position:absolute;
  top:6px;
  right:6px;
  background:rgba(0,0,0,.7);
  color:#fff;
  border:none;
  border-radius:8px;
  padding:4px 6px;
  font-size:12px;
  cursor:pointer;
}
.thumb .rm:hover{ background:rgba(220,38,38,.85); }

/* ==========================================================
   üí≥ PASO 6 ‚Äî MODAL DE PAGO (TODO COMPLETO)
   ‚úÖ Une el estilo rojo (pill) + el mejorado azul
   ‚úÖ Encapsulado: solo afecta al modal de pago (modal-back)
========================================================== */
.modal-back{
  position:fixed;
  inset:0;
  background:rgba(16,24,40,.40);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:99998;
  padding:18px;
  backdrop-filter:blur(3px);
}
.modal-back.show{
  display:flex;
  animation:fadePayBack .25s ease-out;
}
@keyframes fadePayBack{
  from{ opacity:0; }
  to{ opacity:1; }
}

/* modal principal dentro del back */
.modal-back .modal{
  background:#fff;
  border-radius:16px;
  border:1px solid var(--stroke);
  width:min(680px,100%);
  max-height:88vh;
  display:flex;
  flex-direction:column;
  overflow:hidden;
  box-shadow:0 20px 55px rgba(0,0,0,.22);
  position:relative;
  transform:translateY(14px);
  animation:modalSlide .25s ease-out forwards;
}
@keyframes modalSlide{ to{ transform:translateY(0); } }

.modal-back .modal .head{
  padding:14px 18px;
  border-bottom:1px solid var(--stroke);
  font-weight:1000;
  font-size:1.05rem;
  display:flex;
  justify-content:space-between;
  align-items:center;
  background:linear-gradient(180deg,#fff,#fafbff);
}
.modal-back .modal .head button{
  background:#F2F4F7;
  border:none;
  border-radius:10px;
  width:40px;
  height:40px;
  cursor:pointer;
  transition:.2s;
}
.modal-back .modal .head button:hover{
  background:#E4E7EC;
  transform:scale(1.03);
}

.modal-back .modal .body{
  padding:18px;
  overflow-y:auto;
}
.modal-back .modal .foot{
  padding:14px 18px;
  display:flex;
  justify-content:flex-end;
  gap:10px;
  border-top:1px solid var(--stroke);
  background:#fff;
}

/* ===== Tabs: soporte a DOS estilos (rojo y azul) ===== */
.modal-back .pay-groups{
  display:flex;
  gap:8px;
  margin-bottom:15px;
  flex-wrap:wrap;
}

/* base pill */
.modal-back .pay-groups .tab{
  padding:8px 16px;
  border-radius:999px;
  background:#F9FAFB;
  border:1px solid #E5E7EB;
  cursor:pointer;
  font-size:.9rem;
  font-weight:1000;
  transition:.2s;
}
.modal-back .pay-groups .tab:hover:not(.active){
  background:#F3F4F6;
}

/* üî¥ estilo rojo (tu versi√≥n) */
.modal-back .pay-groups .tab.active{
  background:#fff;
  border-color:var(--brand);
  color:var(--brand);
  box-shadow:0 0 0 4px rgba(255,30,45,.12);
}

/* üîµ si t√∫ JS usa "data-theme=blue" o clase .blue-active, tambi√©n queda pro */
.modal-back .pay-groups.blue .tab.active,
.modal-back .pay-groups .tab.blue-active{
  background:var(--blue);
  color:#fff;
  border-color:var(--blue);
  box-shadow:0 0 0 4px rgba(0,82,204,.18);
}

.modal-back .pay-groups .tab.disabled{
  opacity:.45;
  cursor:not-allowed;
}

/* panel contenedor */
.modal-back [data-pane]{
  background:#F9FAFB;
  border:1px solid var(--stroke);
  padding:15px;
  border-radius:12px;
  margin-bottom:14px;
}

/* ===== M√©todos: (grid) ===== */
.modal-back .method-grid{
  display:grid;
  grid-template-columns:repeat(auto-fill, minmax(160px, 1fr));
  gap:12px;
  margin-bottom:10px;
}

/* tarjetas m√©todo */
.modal-back .mcard{
  background:#fff;
  border:1px solid #E5E7EB;
  border-radius:12px;
  padding:10px 12px;
  display:flex;
  gap:10px;
  cursor:pointer;
  transition:.2s;
  align-items:center;
  position:relative;
}
.modal-back .mcard input{ display:none; }

.modal-back .mcard:hover{ border-color:#CBD5E1; transform:translateY(-1px); }

.modal-back .mcard img{
  width:36px;
  height:26px;
  object-fit:contain;
}
.modal-back .mcard .ttl{
  font-weight:1000;
  font-size:.92rem;
}
.modal-back .mcard .sub{
  font-size:.75rem;
  color:#6B7280;
}

/* ‚úÖ activo por selector moderno */
.modal-back .mcard:has(input:checked){
  border-color:var(--brand);
  background:#fff;
  box-shadow:0 0 0 4px rgba(255,30,45,.12);
}
/* ‚úÖ fallback si tu JS agrega .active */
.modal-back .mcard.active{
  border-color:var(--brand);
  box-shadow:0 0 0 4px rgba(255,30,45,.12);
  background:#fff;
}

/* ===== Campos en modal pago ===== */
.modal-back .form-grid{
  display:grid;
  gap:14px;
  grid-template-columns:repeat(auto-fit, minmax(240px, 1fr));
}
.modal-back .form-grid input,
.modal-back .form-grid select,
.modal-back .form-grid textarea{
  width:100%;
  padding:10px 12px;
  border-radius:10px;
  border:1px solid #D0D5DD;
  font-size:.9rem;
  transition:.2s;
  background:#fff;
}
.modal-back .form-grid input:focus,
.modal-back .form-grid select:focus,
.modal-back .form-grid textarea:focus{
  border-color:var(--brand);
  box-shadow:0 0 0 3px rgba(255,30,45,.18);
  outline:none;
}

.modal-back fieldset{
  border:1px solid var(--stroke);
  padding:14px;
  border-radius:12px;
  background:#fff;
}
.modal-back legend{
  padding:0 6px;
  font-size:.85rem;
  font-weight:900;
  color:#344054;
}
.modal-back .err{
  color:#D92D20;
  font-size:.8rem;
  margin-top:4px;
}

/* utilidades QR / copy */
.modal-back .qr{
  width:110px;
  height:110px;
  border:1px dashed #e5e7eb;
  border-radius:12px;
  background:
    linear-gradient(90deg,#f5f6f7 1px,transparent 1px) 0 0/10px 10px,
    linear-gradient(#f5f6f7 1px,transparent 1px) 0 0/10px 10px;
}
.modal-back .copy{
  border:1px solid var(--stroke);
  background:#F8FAFC;
  border-radius:10px;
  padding:9px 12px;
  font-size:12px;
  font-weight:900;
  cursor:pointer;
  transition:.2s;
}
.modal-back .copy:hover{
  transform:translateY(-1px);
  background:#EEF2F6;
}

/* tablas estado de cuenta */
.modal-back .table{
  width:100%;
  border-collapse:collapse;
  border:1px solid var(--stroke);
  border-radius:12px;
  overflow:hidden;
  background:#fff;
}
.modal-back .table th,
.modal-back .table td{
  border-bottom:1px solid var(--stroke);
  padding:9px 10px;
  font-size:13px;
}
.modal-back .table th{
  background:#F9FAFB;
  text-align:left;
  font-weight:1000;
}
.modal-back .table tr:last-child td{ border-bottom:none; }

.modal-back .row{
  display:grid;
  grid-template-columns:1fr auto;
  align-items:center;
  border-bottom:1px dashed #EEF2F6;
}
.modal-back .row > div{ padding:8px; }
.modal-back .row:last-child{ border-bottom:none; }

/* Botones dentro del modal pago */
.modal-back .btn.primary{
  background:var(--blue) !important;
  color:#fff !important;
  padding:10px 20px;
  border-radius:12px;
  font-weight:1000;
}
.modal-back .btn.primary:hover{ background:#003F99 !important; }

.modal-back .btn.gray{
  background:#F2F4F7 !important;
  color:#101828 !important;
  border:1px solid #E5E7EB !important;
}
.modal-back .btn.gray:hover{ background:#E4E7EC !important; }

/* ==========================================================
   üöó MODAL VEH√çCULOS (encapsulado)
========================================================== */
#modalVehiculos{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.55);
  display:none;
  justify-content:center;
  align-items:center;
  z-index:99999;
}
#modalVehiculos.show-modal{ display:flex; }

#modalVehiculos .modal-content{
  width:920px;
  max-width:92vw;
  max-height:92vh;
  overflow:hidden;
  border-radius:18px;
  background:#fff;
  display:flex;
  flex-direction:column;
  box-shadow:0 10px 40px rgba(0,0,0,.25);
}
#modalVehiculos .modal-header{
  background:#E50914;
  padding:18px 22px;
  color:#fff;
  font-size:20px;
  font-weight:700;
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin:0;
}
#modalVehiculos .close-btn{
  background:none;
  border:none;
  color:#fff;
  font-size:26px;
  cursor:pointer;
}
#modalVehiculos .modal-filtros{
  background:#fafafa;
  padding:16px 22px;
  border-bottom:1px solid #e8e8e8;
}
#modalVehiculos .filtros-grid{ display:flex; gap:12px; }
#modalVehiculos .filtro-input{
  flex:1;
  padding:10px 13px;
  border-radius:10px;
  border:1px solid #ddd;
  background:#fff;
}
#modalVehiculos .modal-lista{
  padding:22px;
  overflow-y:auto;
  max-height:65vh;
}
#modalVehiculos .vehiculo-card{
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:18px;
  padding:14px 18px;
  background:#fff;
  border-radius:14px;
  border:1px solid #eee;
  margin-bottom:15px;
  transition:transform .2s, background .2s;
}
#modalVehiculos .vehiculo-card:hover{
  background:#f8f8f8;
  transform:translateY(-2px);
}
#modalVehiculos .vehiculo-img{
  width:110px;
  height:70px;
  border-radius:10px;
  object-fit:cover;
}
#modalVehiculos .btn-vehiculo{
  background:#E50914;
  color:#fff;
  padding:10px 16px;
  border-radius:12px;
  border:none;
  font-weight:1000;
  cursor:pointer;
}
#modalVehiculos .modal-footer{
  padding:15px;
  background:#fafafa;
  border-top:1px solid #eee;
  text-align:right;
}
#modalVehiculos .btn-cerrar{
  padding:10px 16px;
  border-radius:10px;
  border:none;
  background:#ddd;
  cursor:pointer;
}

/* ==========================================================
   üöÄ MODAL UPGRADE (NO TOCAR)
========================================================== */
.upgrade-modal{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.75);
  backdrop-filter:blur(6px);
  display:none;
  justify-content:center;
  align-items:center;
  z-index:5000;
}
.upgrade-modal.show{ display:flex; }

.upgrade-card{
  width:420px;
  background:#fff;
  border-radius:22px;
  padding:24px;
  position:relative;
  box-shadow:0 8px 35px rgba(0,0,0,.25);
  animation:fadeUp .25s ease-out;
  font-family:'Poppins', sans-serif;
}
@keyframes fadeUp{
  from{ opacity:0; transform:translateY(25px); }
  to{ opacity:1; transform:translateY(0); }
}
.upgrade-close{
  position:absolute;
  top:12px;
  right:12px;
  background:#fff;
  border:none;
  font-size:20px;
  cursor:pointer;
  color:#444;
  width:32px;
  height:32px;
  border-radius:50%;
  display:flex;
  justify-content:center;
  align-items:center;
  transition:.2s;
}
.upgrade-close:hover{ background:#f3f3f3; }

.upgrade-discount-badge{
  position:absolute;
  top:-16px;
  left:-16px;
  background:#d6001c;
  color:#fff;
  padding:10px 16px;
  border-radius:16px;
  font-size:15px;
  font-weight:900;
  box-shadow:0 4px 15px rgba(214,0,28,.4);
}
.upgrade-image-wrapper{
  width:100%;
  height:180px;
  overflow:hidden;
  border-radius:18px;
  margin-top:15px;
  margin-bottom:18px;
  box-shadow:0 6px 20px rgba(0,0,0,.15);
}
.upgrade-image-wrapper img{
  width:100%;
  height:100%;
  object-fit:cover;
}
.upgrade-categoria{
  font-size:22px;
  color:#1a1a1a;
  text-align:center;
  font-weight:900;
  margin-bottom:4px;
}
.upgrade-nombre-vehiculo{
  text-align:center;
  font-size:17px;
  font-weight:800;
  color:#444;
  margin-bottom:14px;
}
.upgrade-descripcion{
  text-align:center;
  font-size:14px;
  color:#666;
  margin-bottom:16px;
}
.upgrade-especificaciones{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:8px 12px;
  margin-bottom:20px;
}
.spec-item{ display:flex; justify-content:space-between; font-size:14px; }
.spec-label{ font-weight:800; color:#333; }
.spec-value{ color:#555; }

.upgrade-beneficios{
  background:#f4f7fb;
  padding:12px 14px;
  border-radius:14px;
  font-size:13px;
  margin-bottom:20px;
  color:#333;
}
.upgrade-precios{
  display:flex;
  justify-content:center;
  gap:14px;
  margin-bottom:22px;
}
.upgrade-precio-inflado{
  font-size:16px;
  color:#999;
  text-decoration:line-through;
}
.upgrade-precio-real{
  font-size:20px;
  font-weight:1000;
  color:#0c8a0c;
}
.upgrade-buttons{
  display:flex;
  justify-content:space-between;
  gap:12px;
}
.btn-upgrade-cancel{
  flex:1;
  padding:12px 16px;
  font-size:15px;
  border-radius:12px;
  border:2px solid #999;
  background:#fff;
  color:#444;
  cursor:pointer;
  transition:.25s;
}
.btn-upgrade-cancel:hover{ background:#efefef; }
.btn-upgrade-accept{
  flex:1;
  padding:12px 16px;
  font-size:15px;
  border-radius:12px;
  border:none;
  background:#0077ff;
  color:#fff;
  font-weight:900;
  cursor:pointer;
  transition:.25s;
}
.btn-upgrade-accept:hover{ background:#005fcc; }

/* ==========================================================
   ‚úÖ FIX MODALES PROTECCIONES (Paso 3)
========================================================== */
.main,.grid,.steps,.step{ transform:none !important; }

#modalPaquetes,
#modalIndividuales{
  position:fixed !important;
  inset:0 !important;
  display:none;
  align-items:center;
  justify-content:center;
  background:rgba(0,0,0,.55);
  backdrop-filter:blur(3px);
  z-index:9999999 !important;
  padding:20px;
}
#modalPaquetes[style*="display: block"],
#modalPaquetes[style*="display:block"],
#modalIndividuales[style*="display: block"],
#modalIndividuales[style*="display:block"]{
  display:flex !important;
}
#modalPaquetes .modal-content,
#modalIndividuales .modal-content{
  position:relative;
  z-index:10000000 !important;
  width:min(1400px, 92vw);
  max-height:90vh;
  overflow:hidden;
  border-radius:14px;
  background:#fff;
  box-shadow:0 20px 60px rgba(0,0,0,.35);
  display:flex;
  flex-direction:column;
}
#modalPaquetes .modal-body,
#modalIndividuales .modal-body{
  overflow-y:auto;
  overflow-x:hidden;
  max-height:calc(90vh - 80px);
  padding:16px;
}
#modalPaquetes .cards,
#modalIndividuales .cards{
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(290px, 1fr));
  gap:18px;
  overflow:visible;
  padding:0;
}
#modalIndividuales .scroll-h{
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(260px, 1fr));
  gap:14px;
  overflow:visible;
  padding:0;
}
#modalPaquetes .cards .card,
#modalIndividuales .cards .card,
#modalIndividuales .scroll-h .card{
  background:#fff;
  border-radius:12px;
  padding:18px;
  box-shadow:0 4px 12px rgba(0,0,0,.12);
  border:1px solid #ececec;
  transition:transform .15s ease, box-shadow .15s ease;
}
#modalPaquetes .cards .card:hover,
#modalIndividuales .cards .card:hover,
#modalIndividuales .scroll-h .card:hover{
  transform:translateY(-3px);
  box-shadow:0 6px 16px rgba(0,0,0,.18);
}

.categoria-title{
  font-size:18px;
  font-weight:900;
  margin:24px 0 12px;
  color:#2c3e50;
  border-left:4px solid #3498db;
  padding-left:10px;
}
/* ==========================================================
   ‚úÖ PASO 6 ‚Äî DESGLOSE DE PAGOS (m√°s dise√±o tipo tabla)
   P√©galo al final del CSS
========================================================== */

/* Intentamos agarrar el primer bloque del paso 6 (Desglose) sin cambiar HTML */
.step[data-step="6"] .section:first-of-type .cnt,
.step[data-step="6"] .card:first-of-type .cnt {
  padding: 16px 18px;
}

/* Contenedor del desglose: look tipo ‚Äútabla‚Äù */
.step[data-step="6"] .section:first-of-type .cnt,
.step[data-step="6"] .card:first-of-type .cnt {
  background: linear-gradient(180deg, #ffffff, #fbfcff);
  border-radius: 14px;
}

/* Si tu desglose es texto suelto (p, div, li), lo convertimos en filas */
.step[data-step="6"] .section:first-of-type .cnt p,
.step[data-step="6"] .card:first-of-type .cnt p,
.step[data-step="6"] .section:first-of-type .cnt > div,
.step[data-step="6"] .card:first-of-type .cnt > div,
.step[data-step="6"] .section:first-of-type .cnt li,
.step[data-step="6"] .card:first-of-type .cnt li {
  display: grid;
  grid-template-columns: 1fr auto;
  gap: 12px;
  align-items: center;
  padding: 10px 10px;
  margin: 0;
  border-bottom: 1px dashed #EEF2F6;
}

/* √öltima fila sin borde */
.step[data-step="6"] .section:first-of-type .cnt p:last-child,
.step[data-step="6"] .card:first-of-type .cnt p:last-child,
.step[data-step="6"] .section:first-of-type .cnt > div:last-child,
.step[data-step="6"] .card:first-of-type .cnt > div:last-child,
.step[data-step="6"] .section:first-of-type .cnt li:last-child,
.step[data-step="6"] .card:first-of-type .cnt li:last-child {
  border-bottom: none;
}

/* Label (columna izquierda) */
.step[data-step="6"] .section:first-of-type .cnt p,
.step[data-step="6"] .card:first-of-type .cnt p,
.step[data-step="6"] .section:first-of-type .cnt > div,
.step[data-step="6"] .card:first-of-type .cnt > div,
.step[data-step="6"] .section:first-of-type .cnt li,
.step[data-step="6"] .card:first-of-type .cnt li {
  font-size: 14px;
  color: #0f172a;
  font-weight: 800;
}

/* Valor (columna derecha) ‚Äî si el monto viene como $... en un <span> o el segundo nodo */
.step[data-step="6"] .section:first-of-type .cnt p span,
.step[data-step="6"] .card:first-of-type .cnt p span,
.step[data-step="6"] .section:first-of-type .cnt > div span,
.step[data-step="6"] .card:first-of-type .cnt > div span,
.step[data-step="6"] .section:first-of-type .cnt li span,
.step[data-step="6"] .card:first-of-type .cnt li span {
  justify-self: end;
  font-weight: 1000;
  color: #111827;
}

/* Si NO tienes spans y el monto est√° en otra l√≠nea, esto mejora el texto general */
.step[data-step="6"] .section:first-of-type .cnt,
.step[data-step="6"] .card:first-of-type .cnt {
  line-height: 1.35;
}

/* Resalta la fila del IVA si trae texto "IVA" */
.step[data-step="6"] .section:first-of-type .cnt p:has(*),
.step[data-step="6"] .card:first-of-type .cnt p:has(*) {}

/* Fallback: estilo por coincidencia de texto no existe en CSS puro,
   pero podemos dar estilo a la √∫ltima fila si normalmente IVA est√° al final */
.step[data-step="6"] .section:first-of-type .cnt p:last-child,
.step[data-step="6"] .card:first-of-type .cnt p:last-child {
  background: #fff7ed;
  border: 1px solid #fed7aa;
  border-radius: 12px;
  margin-top: 10px;
}

/* Montos grandes (si tu HTML pone el monto en negrita, strong, etc.) */
.step[data-step="6"] .section:first-of-type .cnt strong,
.step[data-step="6"] .card:first-of-type .cnt strong {
  justify-self: end;
  font-weight: 1100;
}

/* Efecto ‚Äúfila‚Äù hover */
@media (hover:hover) {
  .step[data-step="6"] .section:first-of-type .cnt p:hover,
  .step[data-step="6"] .card:first-of-type .cnt p:hover,
  .step[data-step="6"] .section:first-of-type .cnt > div:hover,
  .step[data-step="6"] .card:first-of-type .cnt > div:hover,
  .step[data-step="6"] .section:first-of-type .cnt li:hover,
  .step[data-step="6"] .card:first-of-type .cnt li:hover {
    background: #f9fafb;
    border-radius: 12px;
  }
}

/* Opcional: si quieres un ‚Äúencabezado‚Äù visual arriba del desglose */
.step[data-step="6"] .section:first-of-type .head,
.step[data-step="6"] .card:first-of-type .head {
  display: flex;
  align-items: center;
  justify-content: space-between;
}
.step[data-step="6"] .section:first-of-type .head::after,
.step[data-step="6"] .card:first-of-type .head::after {
  content: "Monto";
  font-size: 12px;
  font-weight: 1000;
  color: #667085;
  padding: 6px 10px;
  border: 1px solid #EEF2F6;
  border-radius: 999px;
  background: #F9FAFB;
}
