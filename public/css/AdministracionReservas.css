/* ==============================
   üé® Tokens / Design System
============================== */
:root{
  --brand:#FF1E2D; --brand-2:#D6121F; --brand-3:#ff4956;

  --ink:#101828; --muted:#667085; --muted-2:#475467;
  --bg:#F5F7FB; --paper:#fff;
  --stroke:#EAECF0; --stroke-2:#E5E7EB;

  --ok:#027A48; --bad:#B42318; --warn:#B54708; --info:#175CD3;

  --radius-lg:16px; --radius-md:12px; --radius-sm:10px;

  --shadow-xs:0 1px 3px rgba(16,24,40,.06);
  --shadow-sm:0 4px 12px rgba(16,24,40,.08);
  --shadow-md:0 10px 28px rgba(16,24,40,.10);

  --ring:0 0 0 6px #FFECEF;
}

*{box-sizing:border-box}
html,body{margin:0;background:var(--bg);color:var(--ink);font-family:"Cabin",system-ui,-apple-system,"Segoe UI",Roboto,Arial,sans-serif}
body{font-size:15px;line-height:1.5}
a{text-decoration:none;color:inherit}

/* Scrollbar sutil */
*::-webkit-scrollbar{height:10px;width:10px}
*::-webkit-scrollbar-thumb{background:#dfe3ea;border-radius:999px}
*::-webkit-scrollbar-track{background:transparent}

/* ==============================
   üß≠ Layout + Sidebar
============================== */
.wrap{display:grid;grid-template-columns:260px 1fr;min-height:100vh}
@media(max-width:992px){.wrap{grid-template-columns:1fr}}

.side{
  background:linear-gradient(180deg,var(--brand),var(--brand-2));
  color:#fff;padding:18px;border-right:1px solid rgba(0,0,0,.06);
  position:sticky;top:0;height:100vh;overflow:auto;
  box-shadow:inset 0 -1px 0 rgba(255,255,255,.08);
}
.brand{text-align:center;margin-bottom:18px}
.brand img{width:160px;border-radius:14px;box-shadow:0 8px 28px rgba(0,0,0,.18)}
.menu{display:flex;flex-direction:column;gap:10px}
.mitem{
  padding:12px;border-radius:12px;font-weight:800;color:#fff;
  background:rgba(255,255,255,.10);border:1px solid rgba(255,255,255,.18);backdrop-filter:blur(2px);
  transition:background .15s,border-color .15s,transform .08s,box-shadow .15s;
}
.mitem:hover{background:rgba(255,255,255,.16);box-shadow:var(--shadow-xs);transform:translateY(-1px)}
.mitem:active{transform:translateY(1px)}
.mitem.active{background:#fff;color:var(--brand);border-color:#fff;box-shadow:0 6px 16px rgba(255,255,255,.25)}

/* ==============================
   üß± Main / Topbar / Controles
============================== */
.main{padding:24px}
.container{max-width:1120px;margin:0 auto}
.h1{margin:0 0 14px;font-size:24px;font-weight:900;letter-spacing:.2px}

.topbar{
  display:flex;align-items:center;justify-content:space-between;gap:12px;margin:8px 0 16px;flex-wrap:wrap
}
.controls{display:flex;align-items:center;gap:10px;flex-wrap:wrap}
.select,.input{
  height:44px;padding:10px 12px;border:1.25px solid var(--stroke);border-radius:12px;background:#fff;outline:none;font-size:14px;
  transition:border .15s, box-shadow .15s
}
.input:focus,.select:focus{box-shadow:var(--ring);border-color:#FFB4BD}

/* ==============================
   üìã Tabla + ‚Äúcards‚Äù detalle
============================== */
.table-wrap{overflow:auto;border-radius:16px}
.table-wrap::-webkit-scrollbar{height:10px}
.table-wrap::-webkit-scrollbar-thumb{background:#e5e7eb;border-radius:999px}

.table{
  width:100%;border-collapse:separate;border-spacing:0;background:#fff;
  border:1px solid var(--stroke);border-radius:16px;overflow:hidden;
  box-shadow:var(--shadow-sm)
}

/* Header sticky con degradado de marca */
.table thead th{
  background:linear-gradient(90deg,var(--brand),var(--brand-3));
  color:#fff;font-weight:900;font-size:12px;letter-spacing:.3px;text-transform:uppercase;
  text-align:left;padding:12px;border-bottom:1px solid var(--stroke);position:sticky;top:0;z-index:1
}

/* Filas base */
.table tbody td{
  padding:12px;border-bottom:1px solid #F1F3F5;font-size:14px;vertical-align:top
}
.table tbody tr:hover{background:#FFF6F7}
.table tbody tr:nth-child(odd){background:#fff}
.table tbody tr:nth-child(even){background:#FAFBFC}
.col-actions{white-space:nowrap}

/* Toggle redondo */
.tgl{
  display:inline-grid;place-items:center;width:32px;height:32px;border-radius:999px;
  border:1px solid #E5E7EB;background:#fff;cursor:pointer;transition:.15s;font-weight:800
}
.tgl:hover{background:#FFF0F1;border-color:#FFCCD2}
.tgl.open{background:#FFE8EA;border-color:#FFC7CD;color:#B1121B}

/* Badges de estado */
.badge{
  display:inline-flex;align-items:center;gap:6px;padding:6px 10px;border-radius:999px;
  font-size:12px;border:1px solid #E9EAEE;background:#F9FAFB;font-weight:800;color:#475467
}
.st-ok{color:#065F46;background:#ECFDF5;border-color:#D1FAE5}
.st-pend{color:#7A2E0E;background:#FFF7ED;border-color:#FFEDD5}
.st-cancel{color:#991B1B;background:#FEF2F2;border-color:#FEE2E2}

/* ===== Tarjeta de detalle dentro de la tabla ===== */
.detail{
    display:table-row !important;
}
.detail > td{
    padding:0 !important;
}

.detail > td{padding:0;border-bottom:1px solid #EEF2F6}
.card{
  margin:14px;border:1px solid var(--stroke);border-radius:16px;background:rgba(255,255,255,.96);
  box-shadow:var(--shadow-md);overflow:hidden;backdrop-filter:blur(4px)
}
.card-hd{
  display:flex;align-items:center;justify-content:space-between;gap:10px;
  padding:14px 16px;background:linear-gradient(180deg,#FFFFFF,#FAFAFA);border-bottom:1px solid var(--stroke)
}
.card-title{font-weight:900;letter-spacing:.2px}
.card-meta{display:flex;gap:8px;flex-wrap:wrap}

.card-bd{padding:16px;display:grid;grid-template-columns:1.1fr .9fr;gap:18px}
@media(max-width:900px){.card-bd{grid-template-columns:1fr}}

.block{display:grid;gap:12px}
.kv{display:grid;grid-template-columns:170px 1fr;gap:10px;align-items:start;padding:8px 0;border-bottom:1px dashed #E7ECF3}
.kv:last-child{border-bottom:none}
.k{color:var(--muted)}
.v{color:#0F172A}

.pill{
  display:inline-flex;align-items:center;gap:6px;padding:6px 10px;border-radius:999px;
  font-weight:700;font-size:12px;border:1px dashed #E5E7EB;background:#FFFFFF
}

/* Timeline (entrega / devoluci√≥n) */
.timeline{display:grid;gap:14px;padding:6px 0}
.tl-item{display:grid;grid-template-columns:20px 1fr;gap:10px}
.tl-dot{width:12px;height:12px;border-radius:999px;margin-top:4px;background:var(--brand)}
.tl-body{display:grid;gap:2px}
.tl-title{font-weight:800}
.tl-sub{color:var(--muted);font-size:13px}

/* Pie de tarjeta */
.card-ft{
  display:flex;align-items:center;justify-content:space-between;gap:12px;
  padding:14px 16px;border-top:1px solid var(--stroke);background:#FCFCFD;flex-wrap:wrap
}
.total{display:flex;align-items:center;gap:10px;font-weight:900}
.total small{font-weight:700;color:var(--muted)}

/* ==============================
   üîò Botones
============================== */
.btn{border:none;border-radius:12px;padding:10px 12px;font-weight:800;cursor:pointer;transition:transform .05s,box-shadow .15s}
.btn:active{transform:translateY(1px)}
.b-primary{background:var(--brand);color:#fff;box-shadow:0 6px 16px rgba(255,30,45,.18)}
.b-primary:hover{filter:brightness(1.02)}
.b-red{background:#FDE8E8;color:#B1121B;border:1px solid #FBD0D0}
.b-red:hover{background:#FCD9DB}
.b-gray{background:#F8FAFC;border:1px solid var(--stroke)}
.b-gray:hover{background:#F1F5F9}

/* ==============================
   ‚è≠Ô∏è Paginaci√≥n
============================== */
.pager{display:flex;gap:8px;align-items:center;justify-content:flex-end;margin-top:12px}
.pbtn{padding:8px 10px;border:1px solid var(--stroke);background:#fff;border-radius:10px;cursor:pointer}
.pbtn:hover{background:#F9FAFB}
.pbtn[disabled]{opacity:.5;cursor:default}

/* ==============================
   üîî Toast
============================== */
.toast{
  position:fixed;right:16px;bottom:16px;background:#101828;color:#fff;padding:10px 14px;border-radius:10px;
  box-shadow:0 6px 20px rgba(0,0,0,.18);opacity:0;transform:translateY(6px);transition:.2s;z-index:60
}
.toast.show{opacity:1;transform:none}

/* ==============================
   üì± Responsive fino
============================== */
@media (max-width:980px){
  .main{padding:20px}
  .container{max-width:980px}
}

@media (max-width:760px){
  /* Si tu tabla usa muchas columnas, envu√©lvela con .table-wrap para scroll X */
  .table{min-width:760px}
  .select,.input{height:42px}
  .h1{font-size:22px}
}

@media (max-width:520px){
  .card-bd{gap:14px}
  .kv{grid-template-columns:140px 1fr}
  .card-title{font-size:15px}
}

/* ============================================
   üé® NUEVO DISE√ëO PARA DETALLES EXPANDIDOS
   (compatible con tu HTML generado por JS)
============================================ */

/* Contenedor general del detalle */
.panel{
    display:grid;
    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    gap:22px;
    background:#fff;
    padding:26px;
    border:1px solid var(--stroke);
    border-radius:18px;
    box-shadow:var(--shadow-sm);
    margin-top:-2px;
}

/* Cada bloque (Contacto, Veh√≠culo, etc.) */
.box{
    background:#fff;
    border-radius:16px;
    padding:14px 10px;
    border-left:4px solid var(--brand);
    box-shadow:var(--shadow-xs);
}

/* T√≠tulos dentro de cada bloque */
.box h3{
    margin:0 0 6px 0;
    font-size:15px;
    font-weight:900;
    color:var(--ink);
    display:flex;
    align-items:center;
    gap:6px;
}

/* Texto normal */
.box p{
    margin:4px 0;
    color:var(--muted-2);
    font-size:14px;
}

/* Conteo grande del total */
.box.total{
    border-left:4px solid var(--ok);
}

.box.total .big{
    font-size:22px;
    font-weight:900;
    color:var(--ink);
}

/* √çconos */
.box h3::before{
    font-size:18px;
}

/* Estados */
.status-tag{
    padding:6px 12px;
    font-size:12px;
    border-radius:12px;
    font-weight:800;
    text-transform:uppercase;
    display:inline-block;
}

.status-pendiente{ background:#FFF7E6; color:#B45309; border:1px solid #FCD34D; }
.status-abierto{ background:#E0F2FE; color:#0369A1; border:1px solid #7DD3FC; }
.status-cerrado{ background:#DCFCE7; color:#15803D; border:1px solid #86EFAC; }
.status-cancelado{ background:#FEE2E2; color:#B91C1C; border:1px solid #FCA5A5; }

/* Responsive */
@media(max-width:760px){
    .panel{
        grid-template-columns:1fr;
    }
}
